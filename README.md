# pmh-only/blockchain
비효율적일지도 모를 블럭체인

## 블럭 구조
각 블럭은 `Head`, `Body`, `Tail`로 구성됩니다.

### Head: BlockHead
블럭의 대한 정보가 포함되는 곳입니다.\
총 `75 Bytes`로 구성되어 있습니다.

```go
type BlockHead struct {
	Index      uint16 // 2 Bytes
	CreatedAt  uint32 // 4 Bytes
	PrevHash   []byte // 64 Bytes limit
	Nonce      uint32 // 4 Bytes
	Difficulty uint8 // 1 Byte
}
```

### Body: BlockBody
블럭의 데이터가 저장됩니다.\
길이에는 제한이 없습니다.

```go
type BlockBody []byte // no limit
```

### Tail: BlockTail
블럭의 Head와 Body를 해시한 값이 저장됩니다.

```go
type BlockTail struct {
	CurrHash []byte // 64 Bytes limit
}
```

### 예시
Block Structure:
```go
Block{
  Head: {
    Index: 1,
    CreatedAt: 1618114690,
    PrevHash: "74a4f...",
    Nonce: 98681,
    Difficulty: 4,
  },
  Body: []byte("PMH is handsome"),
  Tail: {
    CurrHash: SHAKE256(Head + Body, 512), // 0000...
  },
}
```

Serialization:\
`00000000 00000001 01100000 01110010 10011010 01011100 01110100 10100100 11110001 10111111 11011011 01000100 10101101 00001100 11000001 11111111 10100001 01011101 00010110 00100000 10000011 11101110 01110100 10100100 01101101 11111100 01000100 11101111 00100111 00101011 10111110 11110000 01011100 10011000 11011101 00100000 00001011 00111000 10000110 00111001 00110101 10100110 11011010 00111010 00010110 00101111 01011000 01010001 11110010 11000011 00100110 01011100 01000011 11101000 00110100 00101011 00111101 00001011 10110001 01010111 01101100 00001011 01100111 00110010 11001010 00101101 01011111 11000111 00101100 01010010 00000000 00000001 10000001 01111001 00000100 01010000 01001101 01001000 00100000 01101001 01110011 00100000 01101000 01100001 01101110 01100100 01110011 01101111 01101101 01100101 00000000 00000000 10101000 00010000 00001111 01101100 11111111 01100010 01000100 01101010 00110100 11011001 11101111 00000101 01110100 11110010 01010110 10001000 01000101 11000000 11111000 11000011 01001100 11111010 01110011 11000111 11100010 10001111 00010000 00110101 11011011 01010100 10111100 00011111 10010010 00010101 00100100 01110101 10001111 00110000 01000100 01101011 01000111 00111111 00101010 00110011 10100001 00001001 00111110 11011101 10010010 00011110 11111101 00001000 10111110 10111110 11110011 00110110 10110011 00000010 11011001 00010010 11100000 10100000`

처음 2바이트는 일련번호\
다음 4바이트는 생성시각\
다음 64바이트는 이전 블럭 해시\
다음 4바이트는 Nonce값\
다음 1바이트는 채굴난이도\
다음부터 마지막 64바이트 전까지는 데이터\
마지막 64바이트는 현재 블럭 해시
